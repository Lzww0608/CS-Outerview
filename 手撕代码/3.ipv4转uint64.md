## 127.0.0.1:8080转换成uint64

```cpp
#include <iostream>
#include <string>
#include <cstdint>
#include <stdexcept>

// 127.0.0.1:8080 --> uint64
uint64_t ipToUint64(const std::string& ip) {
    size_t pos = ip.find(':');
    if (pos == std::string::npos) {
        throw std::invalid_argument("Invalid IP address");
    }

    auto ip_part = ip.substr(0, pos);
    auto port_part = ip.substr(pos + 1);

    uint64_t ip_addr = 0;
    for (int i = 0, j = 0; i < 4; i++) {
        int num = 0;
        while (j < ip_part.size() && ip_part[j] >= '0' && ip_part[j] <= '9') {
            num = num * 10 + (ip_part[j] - '0');
            j++;
        }
        if (j != ip_part.size() && ip_part[j] != '.' || num > 255) {
            throw std::invalid_argument("Invalid IP address");
        }
        ip_addr |= num << (i * 8);
        j++;
    }

    uint16_t port = 0;
    for (int i = 0; i < port_part.size(); i++) {
        if (port_part[i] < '0' || port_part[i] > '9') {
            throw std::invalid_argument("Invalid port");
        }
        port = port * 10 + (port_part[i] - '0');
        if (port > 65535) {
            throw std::invalid_argument("Invalid port");
        }
    }
    return (ip_addr << 32) | (port << 16);
}

int main() {
    std::string ip = "127.0.0.1:8080";
    uint64_t ip_addr = ipToUint64(ip);
    std::cout << std::hex << ip_addr << std::endl;
    return 0;
}
```

